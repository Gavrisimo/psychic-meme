/*! psychic-meme libs - 07-07-2013 */
window.PSYM={},PSYM.app={textAreas:{markdown:$("#markdown"),html:$("#html"),renderedHtml:$("#rendered-html")},updateSize:function(){$("#js-app-wrapper").height($(window).height()-62)}},PSYM.app.updateSize(),$(window).on({resize:function(){PSYM.app.updateSize()}}),PSYM.documentManager={converter:new Showdown.converter,getDummyMarkdown:function(){$.get("assets/dummy-markdown.txt",function(e){PSYM.documentManager.convert(e)})},convert:function(e){app.textAreas.markdown.val(e),this.convertedMarkdown=this.converter.makeHtml(e),app.textAreas.html.html(this.convertedMarkdown),app.textAreas.renderedHtml.val(this.convertedMarkdown)},convertedMarkdown:"",loadAllDocuments:function(){var e=$("#js-local-documents");e.empty();for(var t in localStorage)e.append('<li><a href="#" class="js-load-document" data-key="'+t+'"><i class="icon-folder-open"></i> '+t+"</a></li>")},loadDocument:function(e){this.convert(localStorage.getItem(e))},saveDocument:function(){localStorage.setItem(prompt("How are you going to name this document?"),app.textAreas.markdown.val()),this.loadAllDocuments()}},PSYM.documentManager.getDummyMarkdown(),PSYM.documentManager.loadAllDocuments(),app.textAreas.markdown.on({keyup:function(){PSYM.documentManager.convert($(this).val())}}),$("#js-save-document").on({click:function(){return PSYM.documentManager.saveDocument(),!1}}),$("body").on({click:function(){return PSYM.documentManager.loadDocument($(this).data("key")),!1}},".js-load-document"),$("#js-clear-localstorage").on({click:function(){return localStorage.clear(),PSYM.documentManager.loadAllDocuments(),!1}});